<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>What's wrong with Cucumber</title>
  <meta name="description" content="a blog about code">
  <meta name="author" content="Brandon Keepers">
  <meta name="verify-v1" content="UwU5mecrHiDTPVlphLl729aaRCmyz93jrs+ER3RP4Pw=">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-site-verification" content="h4QNmQOrsvnIEsMH5GS3s4_jV3ZAZgrEoZdL4RsbOMI" />

  <!--[if lt IE 9]>
    <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link rel="stylesheet" href="/assets/site-38babed8aca4145f270d32a60b23d16d.css">

  <link rel="openid.server" href="http://www.myopenid.com/server">
  <link rel="openid.delegate" href="http://bkeepers.myopenid.com/">
  <link href="http://feeds.feedburner.com/opensoul" rel="alternate" title="opensoul.org" type="application/atom+xml">

  <!-- FIXME:  -->
</head>
<body>
<div class="container">
  <header>
    <h1><a href="/">opensoul.org</a></h1>
  </header>

  <div id="content">
    <article>
  <h1 class="small">What's wrong with Cucumber</h1>
  <p class="meta">
    <span class="date">May 28, 2012</span>
    <span class="tags">
      
        cucumber,
      
        opinion
      
    </span>
  </p>
  <div class="body"><p><em>This post has sat as a draft on my computer for well over a year now. I always intended to finish it, but am beyond caring.  So I&#8217;m just going to publish it in its current form in hopes that it sparks some interesting conversation and avoids beating a dead horse.</em></p>
<p><a href="http://cukes.info">Cucumber</a> is a divisive tool. Some people absolutely love it and have an irrational dedication to using it for every single project. Others hate it, either because they haven&#8217;t tried it, or tried it on one project and ended up with a steaming pile of <del>sh</del>…step definitions.</p>
<p>I&#8217;ve been using cucumber since one of the first few releases. While I have been burned by it on projects, I also have a great appreciation for it.</p>
<p>What&#8217;s wrong with cucumber? Technically, nothing. It&#8217;s a brilliant tool for creating DSLs to test our applications. <strong>The problem with cucumber is <span class="caps">YOU</span></strong>: you don&#8217;t understand <strong>why</strong> to use it, <strong>when</strong> to use it or <strong>how</strong> to use it. Don&#8217;t worry, though, it&#8217;s not entirely your fault. Many people are responsible for encouraging you to use it in asinine ways and advertising it as a magical medical formula that will cure all your woes.</p>
<h2>Why: understand the purpose</h2>
<p>Cucumber is a tool for creating executable feature specifications, a.k.a acceptance tests. We write these tests to ensure that we have working code that meets our requirements. If the tests don&#8217;t help achieve that, then <strong>don&#8217;t write them</strong>. For this reason, I rarely write Rails controller tests anymore.</p>
<p>Fairly or not, many have this misconception that you should write your acceptance tests in plain text so that your client or stakeholders can read and write them. It is highly likely that your <strong>stakeholders won&#8217;t care about cucumber features</strong>. They probably won&#8217;t read them, and they almost surely won&#8217;t write them.</p>
<p>You should use cucumber because it&#8217;s a great tool for giving you a vocabulary to think and talk about how your application should work. As a programmer and perfectionist, I easily get mired in the implementation details and forget that the software I&#8217;m writing is actually supposed to do something useful. Driving a feature with cucumber helps me first think though how it should actually work and then guides me through implementing it. It keeps me focused on writing the minimal amount of code to make the software work.</p>
<p>Use Cucumber if it will directly help translate required features into working code. If the person doing the programming doesn&#8217;t find it helpful, then don&#8217;t use it!</p>
<h2>When: you don&#8217;t always need a <span class="caps">DSL</span></h2>
<p>Cucumber is a <span class="caps">DSL</span> for creating a <span class="caps">DSL</span> for writing acceptance tests. With me so far? In other words, Cucumber helps you create a vocabulary to describe how your application should work.</p>
<p>Some apps require a <span class="caps">DSL</span> to describe their behavior, but many don&#8217;t. For a large business application with lots of rules and complicated logic, creating a <span class="caps">DSL</span> is the only maintainable way to test it. Testing a simple web <span class="caps">API</span> is really a lot quicker and easier with RSpec or Test::Unit.</p>
<p>The advantage of using Cucumber over a plain ol&#8217; testing framework is that it forces you to use a limited vocabulary to describe your application. If your application requires an expansive vocabulary to describe its functionality, then don&#8217;t use Cucumber</p>
<h2>How: the ivory tower</h2>
<p>I don&#8217;t think people understand <strong>why</strong> and <strong>when</strong> to use Cucumber. But what prompted me to write this post is the recent debate over the <a href="http://aslakhellesoy.com/post/11055981222/the-training-wheels-came-off">removal of web_steps.rb</a>, and that brings us to <strong>how</strong>.</p>
<p>One of the challenges of a programmer is to find the highest level of abstraction that makes sense. Code with too little abstraction is littered with duplication and is too complex to fit in your head. Code that is abstracted too much is too rigid and cumbersome to use. An abstraction should capture only the details that are relevant for the task at hand.</p>
<p>For many apps, the web interface is the right level of abstraction for describing its functionality.</p>
<p><em>Cliffhanger: this is the state in which I left this article. I&#8217;ve <a href="https://gist.github.com/2819565">created a gist for this article</a>, so if you&#8217;d like to finish making the argument, fork the gist and link to your version in the comments.</em></p></div>

  <div id="be-social">
    <a href="https://twitter.com/share" class="twitter-share-button" data-via="bkeepers" data-lang="en" data-related="bkeepers">Tweet</a>
    <a href="https://twitter.com/bkeepers" class="twitter-follow-button" data-show-count="false" data-lang="en">Follow @bkeepers</a>
  </div>
</article>


<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

  </div>

  <div id="about">
    <section>
      <p>I am <strong>Brandon Keepers</strong>. I build Internet things, usually with Ruby or JavaScript. I work at <a href="http://github.com">GitHub</a> and live in Holland, MI.</p>

      <p id="links">
        <a href="http://twitter.com/bkeepers" class="icon icon-mark-twitter" title="Follow me on Twitter"></a>
        <a href="http://github.com/bkeepers" class="icon icon-mark-github" title="Follow me on GitHub"></a>
        <a href="http://feeds.feedburner.com/opensoul" class="icon icon-feed" title="Subscribe to the Feed"></a>
      </p>
    </section>

    <section id="popular">
      <h1>Popular Posts</h1>
      <ul>
      
        <li><a href="/2012/06/05/whats-it-like-to-work-at-github/">What's it like to work at GitHub?</a></li>
      
        <li><a href="/2012/05/23/why-our-code-smells/">Why Our Code Smells</a></li>
      
        <li><a href="/2012/01/12/getting-started-with-sublime-text-2/">Getting Started with Sublime Text 2</a></li>
      
        <li><a href="/2012/01/09/the-40-standup-desk/">The $40 Standup Desk</a></li>
      
        <li><a href="/2011/11/30/haml-the-unforgivable-sin/">HAML: the unforgivable sin</a></li>
      
      </ul>
    </section>

  </div>

  <footer id="copyright">
    Copyright © 2006 - 2013 Brandon Keepers
  </footer>
</div>

<script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-817617-1");
pageTracker._trackPageview();
} catch(err) {}
</script>

<script type="text/javascript">
  (function() {
    var t = document.createElement('script');
    t.type = 'text/javascript'; t.async = true;
    t.id = 'gauges-tracker'; t.setAttribute('data-site-id', '4d5c434255da1271e4000002');
    t.src = 'http://gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
</body>
</html>
